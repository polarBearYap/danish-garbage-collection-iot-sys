[INFO] [2022-03-21T14:29:50Z] [00007f82054f2740] [event-loop] - id=0x1b628f0: Initializing edge-triggered epoll
[INFO] [2022-03-21T14:29:50Z] [00007f82054f2740] [event-loop] - id=0x1b628f0: Starting event-loop thread.
[INFO] [2022-03-21T14:29:50Z] [00007f82054f2740] [dns] - id=0x1a89770: Initializing default host resolver with 16 max host entries.
[INFO] [2022-03-21T14:29:50Z] [00007f82054f2740] [channel-bootstrap] - id=0x1ba7600: Initializing client bootstrap with event-loop group 0x1bac2d0
[INFO] [2022-03-21T14:29:50Z] [00007f8201732700] [event-loop] - id=0x1b628f0: main loop started
[INFO] [2022-03-21T14:29:50Z] [00007f8201732700] [event-loop] - id=0x1b628f0: default timeout 100000, and max events to process per tick 100
[INFO] [2022-03-21T22:29:50Z] [root] Performing greengrass discovery...
[ERROR] [2022-03-21T14:29:50Z] [00007f8201732700] [socket] - id=0x7f81f4000e50 fd=8: connect failed with error code 101.
[INFO] [2022-03-21T14:29:50Z] [00007f8201732700] [dns] - id=0x1a89770: recording failure for record 2406:da00:ff00::3e3:5771 for greengrass-ats.iot.us-east-1.amazonaws.com, moving to bad list
[ERROR] [2022-03-21T14:29:50Z] [00007f8201732700] [channel-bootstrap] - id=0x1ba7600: failed to create socket with error 1049
[INFO] [2022-03-21T14:29:50Z] [00007f8201732700] [socket] - id=0x7f81f4000e50 fd=8: connection success
[WARN] [2022-03-21T14:29:51Z] [00007f8201732700] [http-connection] - static: Unrecognized ALPN protocol. Assuming HTTP/1.1
[INFO] [2022-03-21T14:29:51Z] [00007f8201732700] [http-connection] - id=0x7f81f4016440: HTTP/1.1 client connection established.
[INFO] [2022-03-21T22:29:52Z] [root] Trying core arn:aws:iot:us-east-1:385235753061:thing/danish-gcs-core-1 at host 192.168.56.253 port 8883
[INFO] [2022-03-21T14:29:52Z] [00007f8201732700] [http-connection] - 0x7f81f4016440: Client shutdown completed with error 0 (AWS_ERROR_SUCCESS).
[INFO] [2022-03-21T14:29:52Z] [00007f82054f2740] [mqtt-client] - id=0x1bb7cb0: using ping timeout of 3000000000 ns
[INFO] [2022-03-21T14:29:52Z] [00007f8201732700] [socket] - id=0x7f81f4000e50 fd=8: connection success
[INFO] [2022-03-21T22:29:55Z] [root] Successfully connected to IoT endpoint
[INFO] [2022-03-21T22:29:55Z] [root] Successfully subscribe to command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res, and MQTT server granted QOS of 1
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 1, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647679286, "session-id": "danish-garbage-bin-1-1647679286", "sequence": 1}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 2, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647679586, "session-id": "danish-garbage-bin-1-1647679586", "sequence": 2}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 3, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647679886, "session-id": "danish-garbage-bin-1-1647679886", "sequence": 3}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 4, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647680186, "session-id": "danish-garbage-bin-1-1647680186", "sequence": 4}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 5, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647680486, "session-id": "danish-garbage-bin-1-1647680486", "sequence": 5}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 6, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647680786, "session-id": "danish-garbage-bin-1-1647680786", "sequence": 6}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 7, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647681086, "session-id": "danish-garbage-bin-1-1647681086", "sequence": 7}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 8, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647681386, "session-id": "danish-garbage-bin-1-1647681386", "sequence": 8}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 9, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647681686, "session-id": "danish-garbage-bin-1-1647681686", "sequence": 9}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 10, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647681986, "session-id": "danish-garbage-bin-1-1647681986", "sequence": 10}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 11, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647682286, "session-id": "danish-garbage-bin-1-1647682286", "sequence": 11}'
[INFO] [2022-03-21T22:29:55Z] [root] Successfully publish the message (seq no: 12, qos: 1) to the topic command/danish-gcs/core/1/trash-classification: b'{"client-id": "danish-garbage-bin-1", "res-topic": "command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res", "action": {"type": "trash-classification", "img-format": "jpg"}, "utc-timestamp": 1647682586, "session-id": "danish-garbage-bin-1-1647682586", "sequence": 12}'
[INFO] [2022-03-21T22:29:55Z] [root] Waiting for all messages to be received...
[INFO] [2022-03-21T22:29:56Z] [root] Successfully receive the message (seq no: 1, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 1, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647679286", "res": {"code": 200, "desc": [], "prediction": "plastic"}, "utc-timestamp": 1647679286}'
[INFO] [2022-03-21T22:29:57Z] [root] Successfully receive the message (seq no: 2, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 2, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647679586", "res": {"code": 200, "desc": [], "prediction": "plastic"}, "utc-timestamp": 1647679586}'
[INFO] [2022-03-21T22:29:58Z] [root] Successfully receive the message (seq no: 3, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 3, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647679886", "res": {"code": 200, "desc": [], "prediction": "plastic"}, "utc-timestamp": 1647679886}'
[INFO] [2022-03-21T22:29:59Z] [root] Successfully receive the message (seq no: 4, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 4, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647680186", "res": {"code": 200, "desc": [], "prediction": "glass"}, "utc-timestamp": 1647680186}'
[INFO] [2022-03-21T22:30:00Z] [root] Successfully receive the message (seq no: 5, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 5, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647680486", "res": {"code": 200, "desc": [], "prediction": "glass"}, "utc-timestamp": 1647680486}'
[INFO] [2022-03-21T22:30:01Z] [root] Successfully receive the message (seq no: 6, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 6, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647680786", "res": {"code": 200, "desc": [], "prediction": "metal"}, "utc-timestamp": 1647680786}'
[INFO] [2022-03-21T22:30:02Z] [root] Successfully receive the message (seq no: 7, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 7, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647681086", "res": {"code": 200, "desc": [], "prediction": "trash"}, "utc-timestamp": 1647681086}'
[INFO] [2022-03-21T22:30:03Z] [root] Successfully receive the message (seq no: 8, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 8, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647681386", "res": {"code": 200, "desc": [], "prediction": "paper"}, "utc-timestamp": 1647681386}'
[INFO] [2022-03-21T22:30:04Z] [root] Successfully receive the message (seq no: 9, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 9, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647681686", "res": {"code": 200, "desc": [], "prediction": "glass"}, "utc-timestamp": 1647681686}'
[INFO] [2022-03-21T22:30:05Z] [root] Successfully receive the message (seq no: 10, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 10, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647681986", "res": {"code": 200, "desc": [], "prediction": "metal"}, "utc-timestamp": 1647681986}'
[INFO] [2022-03-21T22:30:06Z] [root] Successfully receive the message (seq no: 11, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 11, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647682286", "res": {"code": 200, "desc": [], "prediction": "paper"}, "utc-timestamp": 1647682286}'
[INFO] [2022-03-21T22:30:08Z] [root] Successfully receive the message (seq no: 12, qos: 1) from the command/danish-gcs/area-beijing/house-1059/floor-1/bin/1/res: b'{"sequence": 12, "client-id": "danish-garbage-bin-1", "session-id": "danish-garbage-bin-1-1647682586", "res": {"code": 200, "desc": [], "prediction": "metal"}, "utc-timestamp": 1647682586}'
[INFO] [2022-03-21T22:30:08Z] [root] All messages have been received.
[INFO] [2022-03-21T22:30:08Z] [root] Trying to disconnecting from MQTT broker in the core device
[INFO] [2022-03-21T14:30:08Z] [00007f8201732700] [mqtt-client] - id=0x1bb7cb0: sending disconnect message as part of graceful shutdown.
[INFO] [2022-03-21T22:30:08Z] [root] Disconnection successful. Program exits.

